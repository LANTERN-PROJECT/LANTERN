<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>404 - Page Not Found | LANTERN</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Core Styles -->
  <link rel="stylesheet" href="./common/commonStyles.css" />

  <style>
    .error-container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      text-align: center;
    }

    .error-content {
      max-width: 600px;
      position: relative;
      z-index: 5;
    }

    .error-code {
      font-size: clamp(80px, 15vw, 180px);
      font-weight: 700;
      line-height: 1;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--text-primary), var(--text-muted));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .error-title {
      font-size: clamp(24px, 4vw, 36px);
      font-weight: 600;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .error-message {
      font-size: 16px;
      color: var(--text-secondary);
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .error-path {
      display: inline-block;
      padding: 8px 16px;
      border-radius: var(--radius-sm);
      background: var(--bg-elevated);
      border: 1px solid var(--border-glass);
      color: var(--text-muted);
      font-family: monospace;
      font-size: 14px;
      margin-bottom: 32px;
      word-break: break-all;
    }

    .navigation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 32px;
    }

    .nav-card {
      padding: 24px;
      border-radius: var(--radius-md);
      background: var(--bg-glass);
      backdrop-filter: var(--blur-soft);
      border: 1px solid var(--border-glass);
      text-decoration: none;
      transition: all var(--transition-fast);
      cursor: pointer;
    }

    .nav-card:hover {
      background: var(--bg-elevated);
      border-color: var(--accent);
      transform: translateY(-2px);
    }

    .nav-card-icon {
      font-size: 32px;
      margin-bottom: 12px;
    }

    .nav-card-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .nav-card-desc {
      font-size: 13px;
      color: var(--text-muted);
    }

    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      border-radius: var(--radius-sm);
      background: var(--accent);
      color: var(--bg-main);
      border: none;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: all var(--transition-fast);
    }

    .back-button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .workspace-hint {
      margin-top: 32px;
      padding: 16px;
      border-radius: var(--radius-sm);
      background: rgba(255, 165, 0, 0.1);
      border: 1px solid rgba(255, 165, 0, 0.3);
      color: var(--text-secondary);
      font-size: 14px;
    }

    @media (max-width: 600px) {
      .navigation-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Orb -->
  <div class="orb-container">
    <div class="orb"></div>
  </div>

  <!-- Error Container -->
  <div class="error-container">
    <div class="error-content">
      
      <div class="error-code">404</div>
      
      <h1 class="error-title">Page Not Found</h1>
      
      <p class="error-message">
        The page you're looking for doesn't exist or has been moved.
      </p>

      <div class="error-path" id="error-path"></div>

      <div class="navigation-grid">
        <a href="/" class="nav-card">
          <!-- <div class="nav-card-icon">üè†</div> -->
          <div class="nav-card-title">Home</div>
          <div class="nav-card-desc">Return to homepage</div>
        </a>

        <!-- <a href="/login" class="nav-card">
          <div class="nav-card-icon">üîì</div>
          <div class="nav-card-title">Workspaces</div>
          <div class="nav-card-desc">Unlock or create</div>
        </a>

        <a href="/settings" class="nav-card">
          <div class="nav-card-icon">‚öôÔ∏è</div>
          <div class="nav-card-title">Settings</div>
          <div class="nav-card-desc">Configure LANTERN</div>
        </a> -->
      </div>

      <button class="back-button" onclick="history.back()">
        ‚Üê Go Back
      </button>

      <div class="workspace-hint" id="workspace-hint" style="display: none;">
        üí° <strong>Looking for a workspace?</strong> Make sure you've unlocked it first.
      </div>

    </div>
  </div>

  <!-- Logic -->
  <script>
    /* =========================================================
       Theme System
       ========================================================= */

    const themes = {
      walnut: {
        "--bg-main": "#2E1F1B",
        "--bg-accent": "#5E4B43",
        "--bg-glass": "rgba(255,255,255,0.06)",
        "--bg-elevated": "rgba(94,75,67,0.28)",
        "--border-glass": "rgba(255,255,255,0.12)",
        "--text-primary": "#F3ECE9",
        "--text-secondary": "#C9B8AE",
        "--text-muted": "#9B8578",
        "--accent": "#E6D3C4"
      },
      ash: {
        "--bg-main": "#1C1E21",
        "--bg-accent": "#2A2D31",
        "--bg-glass": "rgba(255,255,255,0.05)",
        "--bg-elevated": "rgba(255,255,255,0.08)",
        "--border-glass": "rgba(255,255,255,0.12)",
        "--text-primary": "#E6E8EB",
        "--text-secondary": "#B0B6BF",
        "--text-muted": "#8A9099",
        "--accent": "#FFFFFF"
      },
      paper: {
        "--bg-main": "#F6F2EE",
        "--bg-accent": "#FFFFFF",
        "--bg-glass": "rgba(0,0,0,0.04)",
        "--bg-elevated": "rgba(0,0,0,0.06)",
        "--border-glass": "rgba(0,0,0,0.12)",
        "--text-primary": "#2E1F1B",
        "--text-secondary": "#5E4B43",
        "--text-muted": "#7A6A61",
        "--accent": "#2E1F1B"
      }
    };

    function applyTheme(themeName) {
      const theme = themes[themeName];
      if (!theme) return;

      Object.entries(theme).forEach(([key, value]) => {
        document.documentElement.style.setProperty(key, value);
      });
    }

    // Load theme from current workspace or use default
    function getCurrentWorkspace() {
      const unlocked = localStorage.getItem('lantern-unlocked') === 'true';
      if (!unlocked) return null;
      
      const currentWorkspace = localStorage.getItem('lantern-current-workspace');
      return currentWorkspace ? JSON.parse(currentWorkspace) : null;
    }

    const currentWorkspace = getCurrentWorkspace();
    const defaultTheme = "paper";
    let themeName;

    if (currentWorkspace && currentWorkspace.id) {
      const themeKey = `${currentWorkspace.id}-lantern-theme`;
      themeName = localStorage.getItem(themeKey) || defaultTheme;
    } else {
      themeName = defaultTheme;
    }

    applyTheme(themeName);

    /* =========================================================
       Display Current Path
       ========================================================= */

    const errorPath = document.getElementById('error-path');
    const currentPath = window.location.pathname;
    errorPath.textContent = currentPath;

    // Show workspace hint if path looks like it might be a workspace route
    if (currentPath.includes('workspace') || currentPath.match(/^\/[a-z0-9-_]+$/i)) {
      document.getElementById('workspace-hint').style.display = 'block';
    }

  </script>

</body>
</html>
